<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#121211">
  <title>El Dorado</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Narrow:wght@400;700&family=Geist:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --surface-bg: #121211;
      --surface-primary: #1e1e1c;
      --surface-secondary: #2a2a28;
      --surface-invert: #fcfcfc;
      --text-primary: #fcfcfc;
      --text-secondary: #b9b9b3;
      --text-invert: #121211;
      --text-success: #1fcc4b;
      --brand: #e5e517;
      --stroke-secondary: #2a2a28;
      --stroke-contrast: #e6e6e4;
      --icon-primary: #fcfcfc;
      --spacing-025: 2px;
      --spacing-05: 4px;
      --spacing-1: 8px;
      --spacing-15: 12px;
      --spacing-2: 16px;
      --spacing-4: 32px;
      --spacing-5: 40px;
      --border-small: 4px;
      --border-medium: 8px;
      --border-large: 12px;
      --font-size-sm: 12px;
      --font-size-md: 14px;
      --font-size-lg: 16px;
      --font-size-3xl: 32px;
      --line-height-sm: 18px;
      --line-height-md: 21px;
      --line-height-lg: 24px;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    html, body {
      width: 100%;
      height: 100%;
      background: var(--surface-bg);
      overflow: hidden;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: 'Geist', sans-serif;
      color: var(--text-primary);
    }

    .app {
      position: relative;
      width: 100%;
      max-width: 393px;
      height: 100%;
      margin: 0 auto;
      background: var(--surface-bg);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    /* Background */
    .bg-layer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 754px;
      z-index: 0;
      overflow: hidden;
    }
    .bg-layer .bg-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      mask-image: linear-gradient(to bottom, black 0%, black 40%, transparent 100%);
      -webkit-mask-image: linear-gradient(to bottom, black 0%, black 40%, transparent 100%);
    }
    .bg-layer .bg-gradient {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom, rgba(18,18,17,0.4) 0%, #121211 50%);
    }
    .bg-layer .bg-flash {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 253px;
      height: 254px;
      z-index: 2;
    }
    .bg-flash img {
      position: absolute;
      inset: -7.87% -7.91%;
      width: 115.82%;
      height: 115.74%;
    }

    /* Status Bar */
    .status-bar {
      position: relative;
      z-index: 10;
      height: env(safe-area-inset-top, 47px);
      min-height: 47px;
      width: 100%;
    }

    /* Top Bar */
    .top-bar {
      position: relative;
      z-index: 10;
      height: 64px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--spacing-2);
      background: transparent;
    }
    .logo {
      display: inline-flex;
      position: relative;
      height: 24px;
    }
    .logo .logo-symbol {
      width: 24px;
      height: 24px;
    }
    .logo .logo-text {
      position: absolute;
      left: 33.91%;
      top: 30.19%;
      height: 9.747px;
      width: 61.905px;
    }
    .avatar-section {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .avatar-name {
      font-family: 'Geist', sans-serif;
      font-weight: 600;
      font-size: var(--font-size-md);
      line-height: var(--line-height-md);
      color: var(--text-primary);
      letter-spacing: 0.28px;
    }
    .avatar-img {
      width: 32px;
      height: 32px;
      border-radius: 4px;
      border: 1px solid var(--stroke-contrast);
      overflow: hidden;
      background: #ff9ef1;
      position: relative;
    }
    .avatar-img .inner {
      position: absolute;
      inset: 0;
      background: var(--brand);
      overflow: hidden;
    }
    .avatar-img .inner img {
      position: absolute;
      width: 140.41%;
      height: 147.8%;
      left: -16.51%;
      top: -0.82%;
    }

    /* Body scrollable */
    .body-scroll {
      position: relative;
      z-index: 5;
      flex: 1;
      overflow-x: hidden;
      overflow-y: auto;
      padding: 24px 0;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }
    .body-scroll::-webkit-scrollbar { display: none; }

    /* Balance */
    .balance-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: var(--spacing-2) 0;
    }
    .balance-label {
      display: flex;
      align-items: center;
      gap: var(--spacing-05);
      justify-content: center;
    }
    .balance-label span {
      font-family: 'Geist', sans-serif;
      font-weight: 600;
      font-size: var(--font-size-md);
      line-height: var(--line-height-md);
      color: var(--text-primary);
      letter-spacing: 0.28px;
    }
    .balance-label .arrow-down {
      width: 16px;
      height: 16px;
      overflow: hidden;
    }
    .balance-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-1);
      width: 100%;
    }
    .flag-circle {
      width: 32px;
      height: 32px;
      border-radius: 100px;
      overflow: hidden;
      position: relative;
      flex-shrink: 0;
    }
    .flag-circle img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }
    .balance-amount {
      display: flex;
      align-items: center;
      font-family: 'Archivo Narrow', sans-serif;
      font-weight: 700;
      color: var(--text-primary);
      text-transform: uppercase;
      letter-spacing: 0.8px;
    }
    .balance-amount .big {
      font-size: 40px;
      line-height: 60px;
    }
    .balance-amount .comma {
      font-size: 32px;
      line-height: 40px;
    }
    .balance-amount .cents {
      font-size: 32px;
      line-height: 40px;
      padding-top: 6px;
      padding-bottom: var(--spacing-05);
    }
    .eye-icon {
      width: 24px;
      height: 24px;
      overflow: hidden;
      flex-shrink: 0;
    }
    .eye-icon img {
      width: 100%;
      height: 100%;
    }

    /* Home Buttons */
    .home-buttons {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      padding: 0 var(--spacing-2) var(--spacing-2);
      width: 100%;
      margin-top: var(--spacing-4);
    }
    .block-button {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      position: relative;
      cursor: pointer;
    }
    .block-button .btn-inner {
      width: 104px;
      height: 104px;
      border-radius: var(--border-large);
      border: 1px solid;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 17px;
      position: relative;
    }
    .block-button.primary .btn-inner {
      background: var(--brand);
      border-color: var(--brand);
    }
    .block-button.outline .btn-inner {
      background: var(--surface-bg);
      border-color: var(--stroke-contrast);
    }
    .block-button .btn-icon {
      width: 24px;
      height: 24px;
      overflow: hidden;
    }
    .block-button .btn-icon img {
      width: 100%;
      height: 100%;
    }
    .block-button .btn-label {
      font-family: 'Archivo Narrow', sans-serif;
      font-weight: 700;
      font-size: var(--font-size-md);
      line-height: 16px;
      letter-spacing: 0.28px;
      text-transform: uppercase;
    }
    .block-button.primary .btn-label {
      color: var(--text-invert);
    }
    .block-button.outline .btn-label {
      color: var(--text-primary);
    }
    .block-button .sticker {
      position: absolute;
      top: -12px;
      right: -5px;
      width: 72.915px;
      height: 33.793px;
      transform: rotate(30deg);
      z-index: 3;
    }
    .block-button .sticker img {
      width: 100%;
      height: 100%;
    }
    .block-button .sticker-text {
      position: absolute;
      inset: 18.42% 4.57% 10.56% 14.47%;
      font-family: 'Archivo Narrow', sans-serif;
      font-weight: 700;
      font-size: 10.229px;
      line-height: 11.69px;
      letter-spacing: 0.2046px;
      text-transform: uppercase;
      color: var(--text-invert);
      display: flex;
      align-items: center;
    }

    /* Banner */
    .banner-section {
      padding: var(--spacing-4) var(--spacing-2) 0;
      width: 100%;
    }
    .banner-card {
      height: 138px;
      border-radius: 8px;
      overflow: hidden;
      position: relative;
      background: linear-gradient(-67.29deg, #ff9ef1 0%, #fff407 85.97%);
      width: 100%;
    }
    .banner-card .banner-badge {
      position: absolute;
      top: 8.12px;
      left: 10px;
      background: var(--surface-invert);
      display: flex;
      align-items: center;
      gap: var(--spacing-05);
      padding: 0 var(--spacing-05);
    }
    .banner-badge .flag-small {
      width: 12px;
      height: 12px;
      border-radius: 100px;
      overflow: hidden;
      position: relative;
    }
    .banner-badge .flag-small img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }
    .banner-badge span {
      font-family: 'Geist', sans-serif;
      font-weight: 600;
      font-size: var(--font-size-sm);
      line-height: var(--line-height-sm);
      color: var(--text-invert);
      letter-spacing: 0.24px;
    }
    .banner-title-container {
      position: absolute;
      left: 10px;
      top: 31.99px;
    }
    .banner-title-bg1 {
      background: var(--surface-bg);
      height: 37.462px;
      width: 181.082px;
      margin-bottom: -1px;
    }
    .banner-title-bg2 {
      background: var(--surface-bg);
      height: 35.538px;
      width: 156.072px;
    }
    .banner-title {
      position: absolute;
      top: 1px;
      left: 4px;
      font-family: 'Archivo Narrow', sans-serif;
      font-weight: 700;
      font-size: 36px;
      line-height: 36px;
      text-transform: uppercase;
      color: var(--text-primary);
      width: 175px;
    }
    .banner-subtitle {
      position: absolute;
      bottom: 4px;
      left: 0;
      padding: var(--spacing-025) var(--spacing-15);
      width: 176px;
      overflow: hidden;
      max-height: 30px;
    }
    .banner-subtitle p {
      font-family: 'Geist', sans-serif;
      font-weight: 700;
      font-size: 8px;
      line-height: 10px;
      color: var(--text-invert);
    }
    .banner-image {
      position: absolute;
      top: 0;
      right: 0;
      width: 180.5px;
      height: 138px;
      overflow: hidden;
    }
    .banner-image img {
      position: absolute;
      right: -19px;
      top: -29px;
      width: 245px;
      height: 187.544px;
    }

    /* Mini Apps Hub */
    .mini-apps-section {
      background: var(--surface-bg);
      padding: var(--spacing-4) var(--spacing-2) 0;
      width: 100%;
    }
    .section-title {
      font-family: 'Geist', sans-serif;
      font-weight: 500;
      font-size: var(--font-size-lg);
      line-height: var(--line-height-lg);
      color: var(--text-primary);
      letter-spacing: 0.32px;
      margin-bottom: var(--spacing-15);
    }
    .mini-apps-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 16px 0;
      width: 100%;
      border-radius: var(--border-large);
    }
    .mini-app-cell {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--spacing-05);
      width: 25%;
      cursor: pointer;
    }
    .mini-app-cell .app-icon {
      width: 56px;
      height: 56px;
      border-radius: var(--border-medium);
      background: var(--surface-primary);
      overflow: hidden;
      position: relative;
    }
    .mini-app-cell .app-icon img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .mini-app-cell .app-label {
      font-family: 'Geist', sans-serif;
      font-weight: 400;
      font-size: var(--font-size-sm);
      line-height: var(--line-height-sm);
      color: var(--text-primary);
      letter-spacing: 0.24px;
      text-align: center;
    }

    /* Games highlight */
    .mini-app-cell.games-highlight .app-icon {
      background: linear-gradient(135deg, var(--brand) 0%, #b8b812 100%);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .mini-app-cell.games-highlight .app-icon .game-emoji {
      font-size: 28px;
      position: static;
      width: auto;
      height: auto;
    }

    /* Historial */
    .historial-section {
      background: var(--surface-bg);
      padding: 0 var(--spacing-2);
      width: 100%;
    }
    .historial-header {
      padding-top: var(--spacing-4);
    }
    .transaction-card {
      display: flex;
      align-items: center;
      gap: var(--spacing-15);
      min-height: 48px;
      padding: var(--spacing-2) 0;
      background: var(--surface-bg);
    }
    .tx-icon {
      width: 40px;
      height: 40px;
      position: relative;
      flex-shrink: 0;
    }
    .tx-icon .icon-circle {
      width: 40px;
      height: 40px;
      border-radius: 200px;
      background: var(--surface-secondary);
      position: relative;
    }
    .tx-icon .icon-circle img {
      position: absolute;
      left: 8px;
      top: 8px;
      width: 24px;
      height: 24px;
    }
    .tx-icon .tx-direction {
      position: absolute;
      bottom: 0;
      right: 0;
      width: 16px;
      height: 16px;
      border-radius: 100px;
      background: var(--surface-bg);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .tx-direction img {
      width: 10px;
      height: 10px;
    }
    .tx-content {
      flex: 1;
      min-width: 0;
    }
    .tx-row {
      display: flex;
      align-items: center;
      gap: 10px;
      width: 100%;
    }
    .tx-title {
      flex: 1;
      font-family: 'Geist', sans-serif;
      font-weight: 400;
      font-size: var(--font-size-md);
      line-height: var(--line-height-md);
      color: var(--text-primary);
      letter-spacing: 0.28px;
    }
    .tx-amount {
      font-family: 'Geist', sans-serif;
      font-weight: 600;
      font-size: var(--font-size-md);
      line-height: var(--line-height-md);
      color: var(--text-primary);
      letter-spacing: 0.28px;
      text-align: right;
      white-space: nowrap;
    }
    .tx-meta {
      display: flex;
      align-items: center;
      gap: var(--spacing-05);
    }
    .tx-date {
      font-family: 'Geist', sans-serif;
      font-weight: 400;
      font-size: var(--font-size-sm);
      line-height: var(--line-height-sm);
      color: var(--text-secondary);
      letter-spacing: 0.24px;
    }
    .tx-dot {
      width: 2px;
      height: 2px;
    }
    .tx-status {
      font-family: 'Geist', sans-serif;
      font-weight: 400;
      font-size: var(--font-size-sm);
      line-height: var(--line-height-sm);
      color: var(--text-success);
      letter-spacing: 0.24px;
    }
    .historial-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      background: #8c8c82;
      border-radius: var(--border-small);
      padding: var(--spacing-1) var(--spacing-15) var(--spacing-1) var(--spacing-2);
      width: 128px;
      margin: 0 auto;
      cursor: pointer;
      border: none;
    }
    .historial-btn span {
      font-family: 'Archivo Narrow', sans-serif;
      font-weight: 700;
      font-size: var(--font-size-sm);
      line-height: 16px;
      color: #e6e6e4;
      text-transform: uppercase;
      letter-spacing: 0.24px;
    }
    .historial-btn img {
      width: 24px;
      height: 24px;
    }

    /* Blogs */
    .blogs-section {
      padding: var(--spacing-4) var(--spacing-2) 0;
      width: 100%;
    }
    .blogs-scroll {
      display: flex;
      gap: 16px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      padding-bottom: 8px;
    }
    .blogs-scroll::-webkit-scrollbar { display: none; }
    .blog-card {
      flex-shrink: 0;
      width: 240px;
      display: flex;
      flex-direction: column;
      gap: 9px;
    }
    .blog-card .blog-image {
      width: 238.235px;
      height: 135px;
      border-radius: 7.941px;
      overflow: hidden;
      position: relative;
      background: white;
    }
    .blog-card .blog-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .blog-card .blog-image .blog-gradient {
      position: absolute;
      inset: 0;
      background: linear-gradient(to right, black 0%, rgba(2,2,2,0) 100%);
    }
    .blog-card .blog-title {
      font-family: 'Geist', sans-serif;
      font-weight: 500;
      font-size: var(--font-size-sm);
      line-height: var(--line-height-sm);
      color: var(--text-primary);
      letter-spacing: 0.24px;
    }

    /* NavBar */
    .navbar {
      position: relative;
      z-index: 10;
      background: var(--surface-bg);
      border-top: 1px solid var(--stroke-secondary);
      display: flex;
      align-items: flex-end;
      justify-content: center;
      width: 100%;
    }
    .nav-tab {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-05);
      padding: var(--spacing-1) 0 var(--spacing-15);
      cursor: pointer;
    }
    .nav-tab .nav-icon {
      width: 24px;
      height: 24px;
      overflow: hidden;
    }
    .nav-tab .nav-icon img {
      width: 100%;
      height: 100%;
    }
    .nav-tab .nav-label {
      font-family: 'Geist', sans-serif;
      font-size: var(--font-size-sm);
      line-height: var(--line-height-sm);
      letter-spacing: 0.24px;
      text-align: center;
    }
    .nav-tab.active .nav-label {
      font-weight: 600;
      color: var(--text-primary);
    }
    .nav-tab:not(.active) .nav-label {
      font-weight: 400;
      color: var(--text-secondary);
    }

    /* Home Indicator */
    .home-indicator {
      position: relative;
      z-index: 10;
      height: 34px;
      width: 100%;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding-bottom: 8px;
      background: var(--surface-bg);
    }
    .home-indicator .indicator-bar {
      width: 134px;
      height: 5px;
      border-radius: 100px;
      background: var(--icon-primary);
    }

    /* Bottom padding for scroll */
    .scroll-bottom-pad {
      height: 40px;
      flex-shrink: 0;
    }

    /* Active state for buttons */
    .block-button:active .btn-inner {
      transform: scale(0.96);
      transition: transform 0.1s;
    }
    .mini-app-cell:active .app-icon {
      transform: scale(0.92);
      transition: transform 0.1s;
    }

    /* SVG icons inline */
    .icon-plus svg, .icon-send svg, .icon-user-add svg, .icon-eye svg, .icon-arrow-down svg {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>

<div class="app">
  <!-- Background -->
  <div class="bg-layer">
    <img class="bg-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='800'%3E%3Crect fill='%23121210' width='400' height='800'/%3E%3C/svg%3E" alt="">
    <div class="bg-gradient"></div>
    <div class="bg-flash">
      <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1' height='1'/%3E" alt="">
    </div>
  </div>

  <!-- Status Bar (spacer) -->
  <div class="status-bar"></div>

  <!-- Top Bar -->
  <div class="top-bar">
    <div class="logo">
      <img class="logo-symbol" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' rx='6' fill='%23e5e517'/%3E%3Ctext x='16' y='21' text-anchor='middle' font-family='Arial,sans-serif' font-weight='bold' font-size='14' fill='%23121210'%3EED%3C/text%3E%3C/svg%3E" alt="El Dorado">
      <img class="logo-text" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='20' viewBox='0 0 80 20'%3E%3Ctext x='0' y='15' font-family='Arial,sans-serif' font-weight='600' font-size='14' fill='%23fcfcfc' letter-spacing='0.5'%3Eel dorado%3C/text%3E%3C/svg%3E" alt="el dorado">
    </div>
    <div class="avatar-section">
      <span class="avatar-name" id="avatarName">elexplorador</span>
      <div class="avatar-img">
        <div class="inner">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%23333330'/%3E%3Ccircle cx='16' cy='12' r='5' fill='%23b9b9b3'/%3E%3Cpath d='M6 28c0-6 4.5-10 10-10s10 4 10 10' fill='%23b9b9b3'/%3E%3C/svg%3E" alt="">
        </div>
      </div>
    </div>
  </div>

  <!-- Scrollable Body -->
  <div class="body-scroll">
    <!-- Balance Indicator -->
    <div class="balance-section">
      <div class="balance-label">
        <span>Balance Total</span>
        <div class="arrow-down">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath d='M4 6l4 4 4-4' stroke='%23b9b9b3' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E" alt="" style="width:16px;height:16px;">
        </div>
      </div>
      <div class="balance-row">
        <div class="flag-circle">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Ccircle cx='12' cy='12' r='12' fill='%23247a3e'/%3E%3Ctext x='12' y='16' text-anchor='middle' font-family='Arial,sans-serif' font-weight='bold' font-size='12' fill='%23fcfcfc'%3E%24%3C/text%3E%3C/svg%3E" alt="">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Ccircle cx='12' cy='12' r='12' fill='%23247a3e' opacity='0.3'/%3E%3C/svg%3E" alt="" style="position:absolute;inset:0;width:100%;height:100%;">
        </div>
        <div class="balance-amount">
          <span class="big">$1.500</span>
          <span class="comma">,</span>
          <span class="cents">00</span>
        </div>
        <div class="eye-icon">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C5.5 4 1.7 7 1 10c.7 3 4.5 6 9 6s8.3-3 9-6c-.7-3-4.5-6-9-6z' stroke='%23b9b9b3' stroke-width='1.5' fill='none'/%3E%3Ccircle cx='10' cy='10' r='3' stroke='%23b9b9b3' stroke-width='1.5' fill='none'/%3E%3C/svg%3E" alt="">
        </div>
      </div>
    </div>

    <!-- Home Buttons -->
    <div class="home-buttons">
      <!-- Depositar (Primary) -->
      <div class="block-button primary" onclick="vibrate()">
        <div class="btn-inner">
          <div class="btn-icon">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M12 4v12m0 0l-5-5m5 5l5-5' stroke='%23121210' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M5 20h14' stroke='%23121210' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E" alt="">
          </div>
          <div class="btn-label">Depositar</div>
        </div>
      </div>

      <!-- Enviar (Outline) -->
      <div class="block-button outline" onclick="vibrate()">
        <div class="btn-inner">
          <div class="btn-icon">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M12 20V6m0 0l-5 5m5-5l5 5' stroke='%23fcfcfc' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E" alt="">
          </div>
          <div class="btn-label">Enviar</div>
        </div>
      </div>

      <!-- Invitar (Outline + Sticker) -->
      <div class="block-button outline" onclick="vibrate()" style="position:relative;">
        <div style="position:absolute;top:-18px;right:-8px;width:72.915px;height:33.793px;transform:rotate(30deg);z-index:3;pointer-events:none;">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1' height='1'/%3E" alt="" style="width:115%;height:115%;position:absolute;inset:-7.5%;">
          <span class="sticker-text">gana hasta 1.000 USD</span>
        </div>
        <div class="btn-inner">
          <div class="btn-icon">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Ccircle cx='9' cy='8' r='3.5' stroke='%23fcfcfc' stroke-width='1.5' fill='none'/%3E%3Cpath d='M2 20c0-4 3-7 7-7s7 3 7 7' stroke='%23fcfcfc' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3Cpath d='M18 8v6m3-3h-6' stroke='%23fcfcfc' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E" alt="">
          </div>
          <div class="btn-label">Invitar</div>
        </div>
      </div>
    </div>

    <!-- Banner -->
    <div class="banner-section">
      <div class="banner-card">
        <!-- Badge -->
        <div class="banner-badge">
          <div class="flag-small">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Ccircle cx='8' cy='8' r='8' fill='%23247a3e'/%3E%3Ctext x='8' y='11' text-anchor='middle' font-family='Arial,sans-serif' font-weight='bold' font-size='9' fill='%23fcfcfc'%3E%24%3C/text%3E%3C/svg%3E" alt="">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Ccircle cx='8' cy='8' r='8' fill='%23247a3e' opacity='0.3'/%3E%3C/svg%3E" alt="" style="position:absolute;inset:0;width:100%;height:100%;">
          </div>
          <span>Abre tu cuenta hoy</span>
        </div>

        <!-- Title block -->
        <div class="banner-title-container">
          <div class="banner-title-bg1"></div>
          <div class="banner-title-bg2"></div>
          <div class="banner-title">cuenta en d贸lares</div>
        </div>

        <!-- Right image -->
        <div class="banner-image">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1' height='1'/%3E" alt="">
        </div>

        <!-- Subtitle -->
        <div class="banner-subtitle">
          <p style="overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;">Esta imagen no es real, Benjamin Franklin no se preocupaba ya que el usaba ACH y wire</p>
        </div>
      </div>
    </div>

    <!-- Mini Apps Hub -->
    <div class="mini-apps-section">
      <div class="section-title">Mini Apps</div>
      <div class="mini-apps-grid">
        <div class="mini-app-cell" onclick="vibrate()">
          <div class="app-icon">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Cpath d='M6 11h14m0 0l-4-4m4 4l-4 4' stroke='%23e5e517' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M26 21H12m0 0l4-4m-4 4l4 4' stroke='%23e5e517' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E" alt="P2P">
          </div>
          <div class="app-label">P2P</div>
        </div>
        <div class="mini-app-cell" onclick="vibrate()">
          <div class="app-icon">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Cpath d='M16 4l12 7H4z' stroke='%23e5e517' stroke-width='1.5' fill='none' stroke-linejoin='round'/%3E%3Cpath d='M6 13v10m5-10v10m5-10v10m5-10v10m5-10v10' stroke='%23e5e517' stroke-width='1.5' stroke-linecap='round'/%3E%3Cpath d='M4 25h24' stroke='%23e5e517' stroke-width='2' stroke-linecap='round'/%3E%3Cpath d='M3 27h26' stroke='%23e5e517' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E" alt="Cuenta USA" style="width:115.75%;height:115.75%;left:-7.97%;top:-15.75%;">
          </div>
          <div class="app-label">Cuenta USA</div>
        </div>
        <div class="mini-app-cell" onclick="vibrate()">
          <div class="app-icon">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect x='3' y='7' width='26' height='18' rx='3' stroke='%23e5e517' stroke-width='1.5' fill='none'/%3E%3Cpath d='M3 13h26' stroke='%23e5e517' stroke-width='1.5'/%3E%3Crect x='6' y='17' width='8' height='2' rx='1' fill='%23e5e517'/%3E%3C/svg%3E" alt="Tarjeta">
          </div>
          <div class="app-label">Tarjeta</div>
        </div>
        <div class="mini-app-cell" onclick="vibrate()">
          <div class="app-icon">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='12' stroke='%23e5e517' stroke-width='1.5' fill='none'/%3E%3Cpath d='M13 10h5.5c2 0 3.5 1.2 3.5 3s-1.5 3-3.5 3H13zm0 6h6c2 0 3.5 1.2 3.5 3s-1.5 3-3.5 3H13z' stroke='%23e5e517' stroke-width='1.5' fill='none' stroke-linejoin='round'/%3E%3Cpath d='M15 8v2m0 12v2m-2-16v2m0 12v2' stroke='%23e5e517' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E" alt="Cripto">
          </div>
          <div class="app-label">Cripto</div>
        </div>
        <div class="mini-app-cell" onclick="vibrate()">
          <div class="app-icon">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ctext x='10' y='23' font-family='Arial,sans-serif' font-weight='bold' font-size='18' fill='%23e5e517'%3E%24%3C/text%3E%3Cpath d='M24 18V6m0 0l-4 4m4-4l4 4' stroke='%23e5e517' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E" alt="Earn">
          </div>
          <div class="app-label">Earn</div>
        </div>
        <!-- ARCADE - Our mini app! -->
        <div class="mini-app-cell games-highlight" onclick="openGames()">
          <div class="app-icon">
            <span class="game-emoji"></span>
          </div>
          <div class="app-label" style="color:var(--brand);font-weight:600;">Arcade</div>
        </div>
      </div>
    </div>

    <!-- Historial -->
    <div class="historial-section">
      <div class="historial-header">
        <div class="section-title">Historial</div>
      </div>

      <!-- Transaction 1 -->
      <div class="transaction-card">
        <div class="tx-icon">
          <div class="icon-circle">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='14' fill='%23333330'/%3E%3Ctext x='16' y='21' text-anchor='middle' font-family='Arial,sans-serif' font-weight='bold' font-size='16' fill='%23e5e517'%3E%24%3C/text%3E%3C/svg%3E" alt="">
          </div>
          <div class="tx-direction">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M6 2v8m0-8L3 5m3-3l3 3' stroke='%23b9b9b3' stroke-width='1.5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E" alt="">
          </div>
        </div>
        <div class="tx-content">
          <div class="tx-row">
            <div class="tx-title">Titulo de transacci贸n</div>
            <div class="tx-amount">- USD 25,00</div>
          </div>
          <div class="tx-meta">
            <span class="tx-date">11/09/25</span>
            <img class="tx-dot" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Ccircle cx='2' cy='2' r='2' fill='%23b9b9b3'/%3E%3C/svg%3E" alt="">
            <span class="tx-status">Completado</span>
          </div>
        </div>
      </div>

      <!-- Transaction 2 -->
      <div class="transaction-card">
        <div class="tx-icon">
          <div class="icon-circle">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='14' fill='%23333330'/%3E%3Ctext x='16' y='21' text-anchor='middle' font-family='Arial,sans-serif' font-weight='bold' font-size='16' fill='%23e5e517'%3E%24%3C/text%3E%3C/svg%3E" alt="">
          </div>
          <div class="tx-direction">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M6 2v8m0-8L3 5m3-3l3 3' stroke='%23b9b9b3' stroke-width='1.5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E" alt="">
          </div>
        </div>
        <div class="tx-content">
          <div class="tx-row">
            <div class="tx-title">Titulo de transacci贸n</div>
            <div class="tx-amount">- USD 25,00</div>
          </div>
          <div class="tx-meta">
            <span class="tx-date">11/09/25</span>
            <img class="tx-dot" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Ccircle cx='2' cy='2' r='2' fill='%23b9b9b3'/%3E%3C/svg%3E" alt="">
            <span class="tx-status">Completado</span>
          </div>
        </div>
      </div>

      <!-- Transaction 3 -->
      <div class="transaction-card">
        <div class="tx-icon">
          <div class="icon-circle">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='14' fill='%23333330'/%3E%3Ctext x='16' y='21' text-anchor='middle' font-family='Arial,sans-serif' font-weight='bold' font-size='16' fill='%23e5e517'%3E%24%3C/text%3E%3C/svg%3E" alt="">
          </div>
          <div class="tx-direction">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M6 2v8m0-8L3 5m3-3l3 3' stroke='%23b9b9b3' stroke-width='1.5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E" alt="">
          </div>
        </div>
        <div class="tx-content">
          <div class="tx-row">
            <div class="tx-title">Titulo de transacci贸n</div>
            <div class="tx-amount">- USD 25,00</div>
          </div>
          <div class="tx-meta">
            <span class="tx-date">11/09/25</span>
            <img class="tx-dot" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Ccircle cx='2' cy='2' r='2' fill='%23b9b9b3'/%3E%3C/svg%3E" alt="">
            <span class="tx-status">Completado</span>
          </div>
        </div>
      </div>

    </div>

    <!-- Blogs / Novedades -->
    <div class="blogs-section">
      <div class="section-title">Novedades</div>
      <div class="blogs-scroll">
        <div class="blog-card">
          <div class="blog-image">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1' height='1'/%3E" alt="">
            <div class="blog-gradient"></div>
          </div>
          <div class="blog-title">Esto es un ejemplo de que tan largo puede ser el titulo de un blog</div>
        </div>
        <div class="blog-card">
          <div class="blog-image" style="background:#ebebeb;">
            <div class="blog-gradient"></div>
          </div>
          <div class="blog-title">Esto es un ejemplo de que tan largo puede ser el titulo de un blog</div>
        </div>
        <div class="blog-card">
          <div class="blog-image" style="background:#ebebeb;">
            <div class="blog-gradient"></div>
          </div>
          <div class="blog-title">Esto es un ejemplo de que tan largo puede ser el titulo de un blog</div>
        </div>
      </div>
    </div>

    <div class="scroll-bottom-pad"></div>
  </div>

  <!-- NavBar -->
  <div class="navbar">
    <div class="nav-tab active">
      <div class="nav-icon">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M3 10.5L12 3l9 7.5V21a1 1 0 01-1 1h-5v-6h-4v6H5a1 1 0 01-1-1V10.5z' stroke='%23e5e517' stroke-width='1.5' fill='none' stroke-linejoin='round'/%3E%3C/svg%3E" alt="">
      </div>
      <div class="nav-label">Inicio</div>
    </div>
    <div class="nav-tab">
      <div class="nav-icon">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M7 4v16m0 0l-3-3m3 3l3-3' stroke='%23b9b9b3' stroke-width='1.5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M17 20V4m0 0l-3 3m3-3l3 3' stroke='%23b9b9b3' stroke-width='1.5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E" alt="">
      </div>
      <div class="nav-label">Cambiar</div>
    </div>
    <div class="nav-tab">
      <div class="nav-icon">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Ccircle cx='12' cy='12' r='9' stroke='%23b9b9b3' stroke-width='1.5' fill='none'/%3E%3Cpath d='M12 7v5l3.5 3.5' stroke='%23b9b9b3' stroke-width='1.5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E" alt="">
      </div>
      <div class="nav-label">Actividad</div>
    </div>
  </div>

  <!-- Home Indicator -->
  <div class="home-indicator">
    <div class="indicator-bar"></div>
  </div>
</div>

<!-- Games Selection Modal -->
<div id="gamesModal" style="display:none;position:fixed;inset:0;z-index:100;background:var(--surface-bg);">
  <div style="width:100%;max-width:393px;height:100%;margin:0 auto;display:flex;flex-direction:column;overflow:hidden;">
    <!-- Header -->
    <div style="padding:env(safe-area-inset-top,47px) 16px 0;min-height:calc(47px + 64px);">
      <div style="height:47px;"></div>
      <div style="height:64px;display:flex;align-items:center;justify-content:space-between;">
        <div style="display:flex;align-items:center;gap:8px;">
          <button onclick="closeGames()" style="background:none;border:none;color:var(--text-primary);font-size:24px;cursor:pointer;padding:8px;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <span style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:20px;color:var(--text-primary);text-transform:uppercase;letter-spacing:0.4px;">Arcade</span>
        </div>
        <div style="display:flex;align-items:center;gap:4px;">
          <div style="display:flex;flex-direction:column;align-items:flex-end;gap:2px;">
            <div style="display:flex;align-items:center;gap:4px;">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke="#e5e517" stroke-width="2"/><path d="M12 6v6l4 2" stroke="#e5e517" stroke-width="2" stroke-linecap="round"/></svg>
              <span id="countdownTimer" style="font-family:'Geist',sans-serif;font-weight:600;font-size:13px;color:var(--brand);font-variant-numeric:tabular-nums;">00:00:00</span>
            </div>
            <span id="countdownText" style="font-family:'Geist',sans-serif;font-size:10px;color:var(--text-secondary);"></span>
          </div>
        </div>
      </div>
    </div>

    <!-- Games Content -->
    <div style="flex:1;overflow-y:auto;padding:24px 16px;-webkit-overflow-scrolling:touch;">
      <!-- Leaderboard - Top -->
      <div style="margin-bottom:24px;">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;">
          <div style="font-family:'Geist',sans-serif;font-weight:500;font-size:16px;color:var(--text-primary);letter-spacing:0.32px;">Leaderboard - Hoy</div>
        </div>
        <!-- Filter Tabs -->
        <div style="display:flex;gap:8px;margin-bottom:12px;" id="leaderboardFilters">
          <button class="lb-filter active" data-filter="block_blast" style="background:var(--brand);color:#121211;border:none;border-radius:20px;padding:6px 14px;font-family:'Geist',sans-serif;font-weight:600;font-size:12px;cursor:pointer;">Bloques de Oro</button>
        </div>
        <div id="leaderboardList" style="background:var(--surface-primary);border-radius:12px;overflow:hidden;border:1px solid var(--stroke-secondary);">
          <div style="padding:24px;text-align:center;color:var(--text-secondary);font-size:13px;">Cargando leaderboard...</div>
        </div>
      </div>

      <!-- Game Cards -->
      <div style="display:flex;flex-direction:column;gap:12px;">
        <!-- Bloques de Oro -->
        <a href="/blockblast/" style="text-decoration:none;display:flex;align-items:center;gap:16px;background:var(--surface-primary);border-radius:12px;padding:16px;border:1px solid var(--stroke-secondary);">
          <div style="width:56px;height:56px;border-radius:8px;background:linear-gradient(135deg,#e5e517,#b8b812);display:flex;align-items:center;justify-content:center;font-size:28px;flex-shrink:0;">П</div>
          <div style="flex:1;">
            <div style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:16px;color:var(--text-primary);text-transform:uppercase;letter-spacing:0.32px;">Bloques de Oro</div>
            <div style="font-family:'Geist',sans-serif;font-size:12px;color:var(--text-secondary);margin-top:2px;">Puzzle de bloques</div>
          </div>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M9 6l6 6-6 6" stroke="#b9b9b3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </a>

        <!-- Dorado Run (disabled) -->
        <div style="display:flex;align-items:center;gap:16px;background:var(--surface-primary);border-radius:12px;padding:16px;border:1px solid var(--stroke-secondary);opacity:0.5;">
          <div style="width:56px;height:56px;border-radius:8px;background:linear-gradient(135deg,#1fcc4b,#15a03b);display:flex;align-items:center;justify-content:center;font-size:28px;flex-shrink:0;"></div>
          <div style="flex:1;">
            <div style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:16px;color:var(--text-primary);text-transform:uppercase;letter-spacing:0.32px;">Dorado Run</div>
            <div style="font-family:'Geist',sans-serif;font-size:12px;color:var(--text-secondary);margin-top:2px;">Proximamente</div>
          </div>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><rect x="3" y="11" width="18" height="11" rx="2" stroke="#b9b9b3" stroke-width="2"/><path d="M7 11V7a5 5 0 0110 0v4" stroke="#b9b9b3" stroke-width="2"/></svg>
        </div>

        <!-- Coming Soon -->
        <div style="display:flex;align-items:center;gap:16px;background:var(--surface-primary);border-radius:12px;padding:16px;border:1px solid var(--stroke-secondary);opacity:0.5;">
          <div style="width:56px;height:56px;border-radius:8px;background:var(--surface-secondary);display:flex;align-items:center;justify-content:center;font-size:28px;flex-shrink:0;"></div>
          <div style="flex:1;">
            <div style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:16px;color:var(--text-primary);text-transform:uppercase;letter-spacing:0.32px;">Crypto Snake</div>
            <div style="font-family:'Geist',sans-serif;font-size:12px;color:var(--text-secondary);margin-top:2px;">Proximamente</div>
          </div>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><rect x="3" y="11" width="18" height="11" rx="2" stroke="#b9b9b3" stroke-width="2"/><path d="M7 11V7a5 5 0 0110 0v4" stroke="#b9b9b3" stroke-width="2"/></svg>
        </div>

        <div style="display:flex;align-items:center;gap:16px;background:var(--surface-primary);border-radius:12px;padding:16px;border:1px solid var(--stroke-secondary);opacity:0.5;">
          <div style="width:56px;height:56px;border-radius:8px;background:var(--surface-secondary);display:flex;align-items:center;justify-content:center;font-size:28px;flex-shrink:0;"></div>
          <div style="flex:1;">
            <div style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:16px;color:var(--text-primary);text-transform:uppercase;letter-spacing:0.32px;">Pac-Crypto</div>
            <div style="font-family:'Geist',sans-serif;font-size:12px;color:var(--text-secondary);margin-top:2px;">Proximamente</div>
          </div>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><rect x="3" y="11" width="18" height="11" rx="2" stroke="#b9b9b3" stroke-width="2"/><path d="M7 11V7a5 5 0 0110 0v4" stroke="#b9b9b3" stroke-width="2"/></svg>
        </div>
      </div>

      <!-- Boosters Button -->
      <div style="margin-top:24px;">
        <button id="boostersBtn" style="width:100%;display:flex;align-items:center;justify-content:center;gap:10px;background:linear-gradient(135deg,rgba(229,229,23,0.15),rgba(229,229,23,0.05));border:1px solid rgba(229,229,23,0.3);border-radius:12px;padding:14px;cursor:pointer;font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:14px;text-transform:uppercase;letter-spacing:1px;color:var(--brand);">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
          Boosters
        </button>
      </div>

      <div style="height:40px;"></div>
    </div>
  </div>
</div>

<!-- Boosters Modal -->
<div id="boostersModal" style="display:none;position:fixed;inset:0;z-index:110;background:rgba(18,18,17,0.95);backdrop-filter:blur(8px);">
  <div style="width:100%;max-width:393px;height:100%;margin:0 auto;display:flex;flex-direction:column;overflow:hidden;">
    <div style="padding:env(safe-area-inset-top,47px) 16px 0;min-height:calc(47px + 64px);">
      <div style="height:47px;"></div>
      <div style="height:64px;display:flex;align-items:center;justify-content:space-between;">
        <div style="display:flex;align-items:center;gap:8px;">
          <button onclick="closeBoosters()" style="background:none;border:none;color:var(--text-primary);font-size:24px;cursor:pointer;padding:8px;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <span style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:20px;color:var(--text-primary);text-transform:uppercase;letter-spacing:0.4px;">Boosters</span>
        </div>
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#e5e517" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
      </div>
    </div>
    <div style="flex:1;overflow-y:auto;padding:16px;-webkit-overflow-scrolling:touch;">
      <!-- Multiplier Summary -->
      <div style="background:linear-gradient(135deg,rgba(229,229,23,0.15),rgba(229,229,23,0.05));border:1px solid rgba(229,229,23,0.2);border-radius:12px;padding:16px;margin-bottom:20px;text-align:center;">
        <div style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:14px;text-transform:uppercase;color:var(--brand);letter-spacing:0.28px;">Tu multiplicador actual</div>
        <div id="currentMultiplier" style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:36px;color:var(--brand);margin-top:4px;">x1.0</div>
        <div style="font-family:'Geist',sans-serif;font-size:12px;color:var(--text-secondary);margin-top:4px;">Completa tareas para multiplicar tus puntos al jugar</div>
      </div>

      <div id="boostersList" style="display:flex;flex-direction:column;gap:12px;"></div>
    </div>
  </div>
</div>

<script src="/js/supabase-utils.js"></script>
<script>
  // ========== AUTH CHECK ==========
  if (!SupabaseUtils.getCurrentUsername()) {
    window.location.href = '/username.html';
  }

  // ========== SHOW USERNAME ==========
  const username = SupabaseUtils.getCurrentUsername();
  if (username) {
    document.getElementById('avatarName').textContent = '@' + username;
  }

  // ========== BASIC FUNCTIONS ==========
  function vibrate() {
    if (navigator.vibrate) navigator.vibrate(10);
  }

  function openGames() {
    vibrate();
    document.getElementById('gamesModal').style.display = 'block';
    document.getElementById('gamesModal').style.animation = 'slideUp 0.3s ease-out';
    loadLeaderboard();
  }

  function closeGames() {
    vibrate();
    const modal = document.getElementById('gamesModal');
    modal.style.animation = 'slideDown 0.3s ease-in';
    setTimeout(() => { modal.style.display = 'none'; }, 280);
  }

  // ========== LEADERBOARD ==========
  async function loadLeaderboard() {
    const container = document.getElementById('leaderboardList');
    container.innerHTML = '<div style="padding:24px;text-align:center;color:var(--text-secondary);font-size:13px;">Cargando...</div>';

    try {
      const [data, userPos] = await Promise.all([
        SupabaseUtils.getDailyLeaderboard(5),
        SupabaseUtils.getDailyPosition(username),
      ]);
      renderLeaderboard(data, userPos);
    } catch (err) {
      container.innerHTML = '<div style="padding:24px;text-align:center;color:var(--text-secondary);font-size:13px;">Error al cargar leaderboard</div>';
    }
  }

  function renderLeaderboard(data, userPos) {
    const container = document.getElementById('leaderboardList');
    if (!data || data.length === 0) {
      container.innerHTML = '<div style="padding:24px;text-align:center;color:var(--text-secondary);font-size:13px;">Nadie ha jugado hoy. Se el primero!</div>';
      return;
    }

    const userInTop5 = data.some(e => e.username === username);

    const prizes = ['10', '6', '4', '3', '2'];
    let html = data.map((entry, i) => {
      const isTop5 = i < 5;
      const rankDisplay = i + 1;
      const rankColor = i === 0 ? 'var(--brand)' : i < 3 ? 'var(--text-primary)' : 'var(--text-secondary)';
      const scoreColor = i === 0 ? 'var(--brand)' : 'var(--text-primary)';
      const isMe = entry.username === username;
      const border = 'border-bottom:1px solid var(--stroke-secondary);';
      const highlight = isMe ? 'background:rgba(229,229,23,0.08);' : '';
      const prizeTag = isTop5 && prizes[i] ? `<span style="font-family:'Geist',sans-serif;font-weight:700;font-size:10px;color:#121211;background:${i === 0 ? 'var(--brand)' : i === 1 ? '#c0c0c0' : i === 2 ? '#cd7f32' : 'var(--surface-secondary)'};padding:2px 6px;border-radius:4px;margin-left:auto;white-space:nowrap;${i > 2 ? 'color:var(--text-secondary);' : ''}">${prizes[i]} USDT</span>` : '';
      return `<div style="display:flex;align-items:center;padding:12px 16px;${border}${highlight}">
        <span style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:16px;color:${rankColor};width:28px;text-align:center;">${rankDisplay}</span>
        <div style="flex:1;min-width:0;">
          <span style="font-family:'Geist',sans-serif;font-size:14px;color:var(--text-primary);${isMe ? 'font-weight:600;' : ''}">${isMe ? '@' : ''}${entry.username}</span>
        </div>
        <div style="display:flex;align-items:center;gap:8px;">
          <span style="font-family:'Geist',sans-serif;font-weight:600;font-size:14px;color:${scoreColor};">${Number(entry.final_score).toLocaleString()} pts</span>
          ${prizeTag}
        </div>
      </div>`;
    }).join('');

    // If user is not in top 5, show their position below a separator
    if (!userInTop5 && userPos && userPos.rank) {
      html += `<div style="display:flex;align-items:center;justify-content:center;padding:6px 16px;border-bottom:1px solid var(--stroke-secondary);">
        <span style="font-family:'Geist',sans-serif;font-size:11px;color:var(--text-secondary);letter-spacing:2px;">&#8226; &#8226; &#8226;</span>
      </div>`;
      html += `<div style="display:flex;align-items:center;padding:12px 16px;background:rgba(229,229,23,0.08);">
        <span style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:16px;color:var(--text-secondary);width:32px;text-align:center;">${userPos.rank}</span>
        <div style="flex:1;min-width:0;">
          <span style="font-family:'Geist',sans-serif;font-size:14px;color:var(--brand);font-weight:600;">@${username}</span>
        </div>
        <span style="font-family:'Geist',sans-serif;font-weight:600;font-size:14px;color:var(--brand);">${userPos.score.toLocaleString()} pts</span>
      </div>`;
    } else if (!userInTop5) {
      html += `<div style="display:flex;align-items:center;justify-content:center;padding:6px 16px;border-bottom:1px solid var(--stroke-secondary);">
        <span style="font-family:'Geist',sans-serif;font-size:11px;color:var(--text-secondary);letter-spacing:2px;">&#8226; &#8226; &#8226;</span>
      </div>`;
      html += `<div style="display:flex;align-items:center;padding:12px 16px;background:rgba(229,229,23,0.08);">
        <span style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:16px;color:var(--text-secondary);width:32px;text-align:center;">-</span>
        <div style="flex:1;min-width:0;">
          <span style="font-family:'Geist',sans-serif;font-size:14px;color:var(--brand);font-weight:600;">@${username}</span>
        </div>
        <span style="font-family:'Geist',sans-serif;font-size:12px;color:var(--text-secondary);">Juega para entrar!</span>
      </div>`;
    }

    container.innerHTML = html;
  }

  // ========== BOOSTERS ==========
  function openBoosters() {
    vibrate();
    document.getElementById('boostersModal').style.display = 'block';
    loadBoosters();
  }

  function closeBoosters() {
    vibrate();
    document.getElementById('boostersModal').style.display = 'none';
  }

  document.getElementById('boostersBtn').addEventListener('click', openBoosters);

  async function loadBoosters() {
    const container = document.getElementById('boostersList');

    const [boostState, multiplier, question] = await Promise.all([
      SupabaseUtils.getDailyBoosts(username),
      SupabaseUtils.getMultiplier(username),
      SupabaseUtils.getDailyQuestion(),
    ]);

    document.getElementById('currentMultiplier').textContent = 'x' + multiplier.toFixed(1);

    function boosterCard(icon, title, desc, done, extraHtml) {
      return `<div style="background:var(--surface-primary);border:1px solid ${done ? 'rgba(31,204,75,0.3)' : 'var(--stroke-secondary)'};border-radius:12px;padding:16px;${done ? 'opacity:0.7;' : ''}">
        <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:12px;">
          <div style="flex:1;">
            <div style="display:flex;align-items:center;gap:8px;">
              <span style="font-size:18px;">${icon}</span>
              <div style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:14px;color:var(--text-primary);text-transform:uppercase;letter-spacing:0.28px;">${title}</div>
              ${done ? '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#1fcc4b" stroke-width="2.5"><path d="M20 6L9 17l-5-5"/></svg>' : ''}
            </div>
            <div style="font-family:'Geist',sans-serif;font-size:12px;color:var(--text-secondary);margin-top:4px;">${desc}</div>
          </div>
          <div style="border:1px solid ${done ? 'rgba(31,204,75,0.3)' : 'rgba(229,229,23,0.3)'};border-radius:8px;padding:4px 10px;white-space:nowrap;">
            <span style="font-family:'Geist',sans-serif;font-weight:600;font-size:11px;color:${done ? '#1fcc4b' : 'var(--brand)'};">x1.1</span>
          </div>
        </div>
        ${extraHtml || ''}
      </div>`;
    }

    let html = '';

    // 1. Pregunta del Dia
    if (boostState.question_answered && boostState.question_correct) {
      html += boosterCard('&#129504;', 'Pregunta del Dia', 'Respondiste correctamente!', true);
    } else if (boostState.question_answered && !boostState.question_correct) {
      html += `<div style="background:var(--surface-primary);border:1px solid rgba(229,57,53,0.3);border-radius:12px;padding:16px;opacity:0.6;">
        <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:12px;">
          <div style="flex:1;">
            <div style="display:flex;align-items:center;gap:8px;">
              <span style="font-size:18px;">&#129504;</span>
              <div style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:14px;color:var(--text-primary);text-transform:uppercase;letter-spacing:0.28px;">Pregunta del Dia</div>
              <span style="font-family:'Geist',sans-serif;font-size:11px;color:#e53935;font-weight:600;">&#10060;</span>
            </div>
            <div style="font-family:'Geist',sans-serif;font-size:12px;color:var(--text-secondary);margin-top:4px;">Respuesta incorrecta. Intenta ma&ntilde;ana!</div>
          </div>
          <div style="border:1px solid rgba(229,57,53,0.3);border-radius:8px;padding:4px 10px;white-space:nowrap;">
            <span style="font-family:'Geist',sans-serif;font-weight:600;font-size:11px;color:#e53935;">x1.1</span>
          </div>
        </div>
      </div>`;
    } else if (question) {
      html += `<div style="background:var(--surface-primary);border:1px solid var(--stroke-secondary);border-radius:12px;padding:16px;">
        <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:12px;">
          <div style="flex:1;">
            <div style="display:flex;align-items:center;gap:8px;">
              <span style="font-size:18px;">&#129504;</span>
              <div style="font-family:'Archivo Narrow',sans-serif;font-weight:700;font-size:14px;color:var(--text-primary);text-transform:uppercase;letter-spacing:0.28px;">Pregunta del Dia</div>
            </div>
            <div style="font-family:'Geist',sans-serif;font-size:13px;color:var(--text-primary);margin-top:8px;font-weight:500;">${question.question}</div>
          </div>
          <div style="border:1px solid rgba(229,229,23,0.3);border-radius:8px;padding:4px 10px;white-space:nowrap;">
            <span style="font-family:'Geist',sans-serif;font-weight:600;font-size:11px;color:var(--brand);">x1.1</span>
          </div>
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:12px;" id="questionOptions">
          ${question.options.map((opt, i) => `<button onclick="answerQuestion(${i})" style="background:var(--surface-secondary);border:1px solid var(--stroke-secondary);border-radius:8px;padding:10px 8px;cursor:pointer;font-family:'Geist',sans-serif;font-size:13px;font-weight:500;color:var(--text-primary);text-align:center;">${opt}</button>`).join('')}
        </div>
      </div>`;
    }

    container.innerHTML = html;
  }

  // Booster actions
  async function answerQuestion(idx) {
    const buttons = document.querySelectorAll('#questionOptions button');
    buttons.forEach(b => b.disabled = true);

    const result = await SupabaseUtils.answerDailyQuestion(username, idx);
    if (!result) return;

    if (result.correct) {
      buttons[idx].style.background = '#1fcc4b';
      buttons[idx].style.color = '#121211';
      buttons[idx].style.border = '1px solid #1fcc4b';
      setTimeout(() => { loadBoosters(); }, 800);
    } else {
      buttons[idx].style.background = '#e53935';
      buttons[idx].style.color = '#fff';
      buttons[idx].style.border = '1px solid #e53935';
      if (typeof result.correct_answer === 'number' && buttons[result.correct_answer]) {
        buttons[result.correct_answer].style.background = '#1fcc4b';
        buttons[result.correct_answer].style.color = '#121211';
        buttons[result.correct_answer].style.border = '1px solid #1fcc4b';
      }
      setTimeout(() => { loadBoosters(); }, 1500);
    }
  }

  // ========== COUNTDOWN TIMER ==========
  let countdownInterval = null;
  function updateCountdown() {
    const now = new Date();
    const midnight = new Date(now);
    midnight.setHours(24, 0, 0, 0);
    const diff = midnight - now;
    const hours = Math.floor(diff / 3600000);
    const h = String(hours).padStart(2, '0');
    const m = String(Math.floor((diff % 3600000) / 60000)).padStart(2, '0');
    const s = String(Math.floor((diff % 60000) / 1000)).padStart(2, '0');
    const el = document.getElementById('countdownTimer');
    if (el) el.textContent = h + ':' + m + ':' + s;
    const textEl = document.getElementById('countdownText');
    if (textEl) {
      if (hours > 0) {
        textEl.textContent = 'En ' + hours + 'h ganadores!';
      } else {
        textEl.textContent = 'Ultimos minutos!';
      }
    }
  }
  updateCountdown();
  countdownInterval = setInterval(updateCountdown, 1000);

  // ========== ANIMATIONS ==========
  const style = document.createElement('style');
  style.textContent = `
    @keyframes slideUp {
      from { transform: translateY(100%); }
      to { transform: translateY(0); }
    }
    @keyframes slideDown {
      from { transform: translateY(0); }
      to { transform: translateY(100%); }
    }
  `;
  document.head.appendChild(style);
</script>

</body>
</html>
